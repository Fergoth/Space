# Космический Телеграм

Модули для скачивания фотографий космоса через API NASA и отправления фотографий в телеграм канал

### Как установить
Создайте .env файл, добавьте токен, полученный из [Nasa](https://api.nasa.gov).
Добавьте токен Телеграм бота и изначальное время для отправки картинок.
Пример:
```
    API_NASA_KEY=[Токен NASA]
    TG_BOT_API=[Токен бота]
    POST_FREQ=[Частота отправления фотографий в секундах]
    TG_CHAT_ID=[Id телеграм-канала, в который отправляются картинки]
```

Python3 должен быть уже установлен. 
Затем используйте `pip` (или `pip3`, есть конфликт с Python2) для установки зависимостей:
```
pip install -r requirements.txt
```

### Как запустить

1. Скачайте картинки
    * Фотографии Земли из космоса:
   * Позиционные необязательные аргументы:
   count, folder, количество скачиваемых фотографий и имя папки для скачивания
    * Значения по умолчанию(5,epic)
    ```
        python fetch_epic_images.py 5 epic
    ```
    * Фотографии дня с изображениями космоса с сайта NASA:
    * В фотографиях дня не всегда есть фотографии, так что количество полученых фотографий может быть меньше чем указано
    * Позиционные  необязательные аргументы:
   count, folder, количество скачиваемых фотографий и имя папки для скачивания

   * Значения по умолчанию(5,apod)
    ```
        python fetch_apod_images.py 5 apod
    ```
   * Фотографии с запуска ракет SpaceX(первым параметром указываем ID запуска, а если он не указан, то скачиваются фотографии последнего запуска):

   * Позиционные необязательные аргументы:
   id, folder, количество скачиваемых фотографий и имя папки для скачивания
   Значения по умолчанию(None,space_x)

       ```
           python fetch_spacex_images.py  5eb87d47ffd86e000604b38a folder
       ```
    
2. Запустить бота
    Позиционные необязательные аргументы:
   * freq, folder, частота отправки и имя папки откуда берутся фотографии
   * По умолчанию значение для частоты берется из env, folder  = space_x
   * Чтобы отправить все фотографии из images с задержкой(можем указать в параметре -t задержку между фотографиями, то используется переменная окружения из .env):

     ```
         python telegram_bot_auto_posting_images.py  100 apod
     ```

     * Чтобы отправить один файл из folder = apod 

     ```
         python telegram_bot_publish_photo.py  nasa_apod_0.jpg
     ```

### Цель проекта

Код написан в образовательных целях на онлайн-курсе для веб-разработчиков [dvmn.org](https://dvmn.org/).